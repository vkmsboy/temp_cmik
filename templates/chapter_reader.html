{% extends "base.html" %}
{% block title %}Reading {{ chapter.manga.title }} Ch. {{ chapter.chapter_number }}{% endblock %}
{% block content %}
<div class="text-center mb-8">
    <h1 class="text-4xl font-bold text-white">{{ chapter.manga.title }}</h1>
    <h2 class="text-2xl text-gray-400">Chapter {{ chapter.chapter_number }}</h2>
    <div class="mt-4">
        <a href="{{ url_for('manga_detail', manga_id=chapter.manga.id) }}" class="text-blue-400 hover:underline">&larr; Back to Chapter List</a>
    </div>
</div>
<div class="flex flex-col items-center">
    {% for page in chapter.pages %}
    <div class="w-full max-w-4xl bg-gray-800 mb-1">
        <img src="{{ url_for('get_telegram_image', file_id=page.file_id) }}" 
             alt="Page {{ page.page_number }}" 
             class="w-full h-auto"
             loading="lazy"
             onerror="this.onerror=null;this.src='https://placehold.co/800x1200/111827/4b5563?text=Page+{{ page.page_number }}+Error';">
    </div>
    {% endfor %}
</div>
<div class="text-center mt-8">
    <a href="{{ url_for('manga_detail', manga_id=chapter.manga.id) }}" class="text-blue-400 hover:underline">&larr; Back to Chapter List</a>
</div>
{% endblock %}
